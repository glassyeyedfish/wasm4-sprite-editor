<!DOCTYPE html>

<html lang='en'>

<head>

    <title>WASM-4 Sprite Editor</title>
    <meta charset="UTF-8">

    <style>
    body {
        background-color: #111111;
        color: #dddddd;

        line-height: 1.6;
        font-family: sans-serif;

        padding: 0px;
        width: 800px;
        margin: auto;
    }

    a, .pr {
        color: #ae81ff;
    }

    a:hover {
        color: #8160be;
    }
    </style>

</head>

<body>

    <h1>WASM-4 Sprite Editor</h1>

    <center><canvas id="drawingArea">
        Please use a browser that supports HTML5 canvas. 
        Try: https://www.mozilla.org/firefox/
    </canvas></center>

    <script>
        // Constants
        const CANVAS_W = 800
        const CANVAS_H = 600

        // Set up the canvas
        let canvas = document.getElementById("drawingArea")
        canvas.setAttribute("width", CANVAS_W)
        canvas.setAttribute("height", CANVAS_H)

        // Set up the graphics context
        let ctx = canvas.getContext("2d")

        // Sprite data
        let pixelSize = 30
        let spriteX = 100
        let spriteY = 100
        let spriteW = 4
        let spriteH = 3

        // Dragging the canvas
        canvas.addEventListener("mousemove", canvasMouseMoveHandler)
        function canvasMouseMoveHandler() { console.log(1) }

        // Draw on the canvas
        function render() {
            // background
            ctx.fillStyle = "#222222"
            ctx.fillRect(0, 0, CANVAS_W, CANVAS_H)

            // sprite
            for (let x = 0; x < spriteW; x++) {
                for (let y = 0; y < spriteH; y++) {

                    if ((x + y) % 2 == 0) {
                        ctx.fillStyle = "#333333"
                    } else {
                        ctx.fillStyle = "#444444"
                    }

                    ctx.fillRect(
                        (pixelSize * x) + spriteX,
                        (pixelSize * y) + spriteY,
                        pixelSize,
                        pixelSize
                    )

                }
            }
        }

        // Initialize canvas
        render()
    </script>

</body>

</html>
